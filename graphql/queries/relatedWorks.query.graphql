query RelatedWorks($id: Int!, $idType: RelatedWorksIdentifierType!, $paginationOptions: PaginationOptions, $filterOptions: RelatedWorksFilterOptions) {
  relatedWorks(id: $id, idType: $idType, paginationOptions: $paginationOptions, filterOptions: $filterOptions) {
    items {
      id
      projectId
      planId
      planTitle
      workVersion {
        id
        work {
          id
          doi
        }
        hash
        workType
        publicationDate
        title
        authors {
          orcid
          firstInitial
          givenName
          middleInitials
          middleNames
          surname
          full
        }
        institutions {
          name
          ror
        }
        funders {
          name
          ror
        }
        awards {
          awardId
        }
        publicationVenue
        sourceName
        sourceUrl
      }
      scoreNorm
      confidence
      status
      doiMatch {
        found
        score
        sources {
          parentAwardId
          awardId
          awardUrl
        }
      }
      contentMatch {
        score
        titleHighlight
        abstractHighlights
      }
      authorMatches {
        index
        score
        fields
      }
      institutionMatches {
        index
        score
        fields
      }
      funderMatches {
        index
        score
        fields
      }
      awardMatches {
        index
        score
        fields
      }
      created
      modified
    }
    totalCount
    limit
    currentOffset
    hasNextPage
    hasPreviousPage
    availableSortFields
    statusOnlyCount
    workTypeCounts {
      typeId
      count
    }
    confidenceCounts {
      typeId
      count
    }
  }
}

query FindWorkByIdentifier($planId: Int, $doi: String) {
  findWorkByIdentifier(planId: $planId, doi: $doi) {
    items {
      id
      planId
      planTitle
      workVersion {
        work {
          doi
        }
        title
        hash
        workType
        publicationDate
        publicationVenue
        authors {
          orcid
          firstInitial
          givenName
          surname
          full
        }
        sourceName
        sourceUrl
      }
      status
      sourceType
      modified
    }
  }
}

query RelatedWorksByPlanStats($planId: Int!) {
  relatedWorksByPlanStats(planId: $planId) {
    hasPublishedPlan
    acceptedCount
    pendingCount
    rejectedCount
    totalCount
  }
}

query RelatedWorksByProjectStats($projectId: Int!) {
  relatedWorksByProjectStats(projectId: $projectId) {
    hasPublishedPlan
    acceptedCount
    pendingCount
    rejectedCount
    totalCount
  }
}
